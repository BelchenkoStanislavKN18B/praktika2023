{"ast":null,"code":"var _jsxFileName = \"/Users/two/Desktop/shop1/src/components/Sort/Sort.tsx\",\n  _s = $RefreshSig$();\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectFilter } from \"../../redux/filter/selector\";\nimport { setSortIndex, setSortName } from \"../../redux/filter/slice\";\nimport SortInfo from \"./SortInfo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Sort = /*#__PURE__*/_s( /*#__PURE__*/React.memo(_c = _s(() => {\n  _s();\n  const [sortList] = useState([{\n    name: \"цiнi (спадаюч.)\",\n    sort: \"-price\"\n  }, {\n    name: \"цiнi (зростаюч.)\",\n    sort: \"price\"\n  }, {\n    name: \"популярностi (зрозтаюч.)\",\n    sort: \"rating\"\n  }, {\n    name: \"популярностi (убыв.)\",\n    sort: \"-rating\"\n  }, {\n    name: \"алфавiту\",\n    sort: \"title\"\n  }]);\n  const [open, setOpen] = useState(true);\n  const {\n    sort\n  } = useSelector(selectFilter);\n  const dispatch = useDispatch();\n  const sortRef = useRef(null);\n  const onSortChange = useCallback((index, name) => {\n    dispatch(setSortIndex(index));\n    dispatch(dispatch(setSortName(name)));\n  }, []);\n  useEffect(() => {\n    setOpen(!open);\n  }, [sort.sortIndex]);\n  const selectedList = sortList[sort.sortIndex].name;\n  const openPopUp = () => {\n    return setOpen(!open);\n  };\n  useEffect(() => {\n    const handleClickOutside = event => {\n      const path = sortRef.current && event.composedPath().includes(sortRef.current);\n      if (!path) {\n        setOpen(false);\n      }\n    };\n    document.body.addEventListener(\"click\", handleClickOutside);\n    return () => document.body.removeEventListener(\"click\", handleClickOutside);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(SortInfo, {\n    sortRef: sortRef,\n    onSortChange: onSortChange,\n    selectedList: selectedList,\n    sortIndex: sort.sortIndex,\n    sortList: sortList,\n    openPopUp: openPopUp,\n    open: open\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}, \"3YfD+unF2C9nEiAGs0g+fGrrs5o=\", false, function () {\n  return [useSelector, useDispatch];\n})), \"3YfD+unF2C9nEiAGs0g+fGrrs5o=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c2 = Sort;\nexport default Sort;\nvar _c, _c2;\n$RefreshReg$(_c, \"Sort$React.memo\");\n$RefreshReg$(_c2, \"Sort\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","useRef","useDispatch","useSelector","selectFilter","setSortIndex","setSortName","SortInfo","Sort","memo","sortList","name","sort","open","setOpen","dispatch","sortRef","onSortChange","index","sortIndex","selectedList","openPopUp","handleClickOutside","event","path","current","composedPath","includes","document","body","addEventListener","removeEventListener"],"sources":["/Users/two/Desktop/shop1/src/components/Sort/Sort.tsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectFilter } from \"../../redux/filter/selector\";\nimport { setSortIndex, setSortName } from \"../../redux/filter/slice\";\nimport SortInfo from \"./SortInfo\";\n\nconst Sort: React.FC = React.memo( ()=> {\n  type sortItem = { name: string; sort: string };\n  const [sortList] = useState<sortItem[]>([\n    { name: \"цiнi (спадаюч.)\", sort: \"-price\" },\n    { name: \"цiнi (зростаюч.)\", sort: \"price\" },\n    { name: \"популярностi (зрозтаюч.)\", sort: \"rating\" },\n    { name: \"популярностi (убыв.)\", sort: \"-rating\" },\n    { name: \"алфавiту\", sort: \"title\" },\n  ]);\n  const [open, setOpen] = useState(true);\n  const { sort } = useSelector(selectFilter);\n  const dispatch = useDispatch();\n  const sortRef = useRef<HTMLDivElement>(null);\n\n  const onSortChange = useCallback((index: number, name: string) => {\n    dispatch(setSortIndex(index));\n    dispatch(dispatch(setSortName(name)));\n  }, []);\n\n  useEffect(() => {\n    setOpen(!open);\n  }, [sort.sortIndex]);\n\n  const selectedList = sortList[sort.sortIndex].name;\n\n  const openPopUp = () => {\n    return setOpen(!open);\n  };\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      const path = sortRef.current && event.composedPath().includes(sortRef.current);\n      if (!path) {\n        setOpen(false);\n      }\n    };\n    document.body.addEventListener(\"click\", handleClickOutside);\n    return () => document.body.removeEventListener(\"click\", handleClickOutside);\n  }, []);\n\n  return (\n    <SortInfo\n      sortRef={sortRef}\n      onSortChange={onSortChange}\n      selectedList={selectedList}\n      sortIndex={sort.sortIndex}\n      sortList={sortList}\n      openPopUp={openPopUp}\n      open={open}\n    />\n  );\n});\n\nexport default Sort;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC/D,SAASC,MAAM,QAAQ,OAAO;AAC9B,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,YAAY,QAAQ,6BAA6B;AAC1D,SAASC,YAAY,EAAEC,WAAW,QAAQ,0BAA0B;AACpE,OAAOC,QAAQ,MAAM,YAAY;AAAC;AAElC,MAAMC,IAAc,iCAAGX,KAAK,CAACY,IAAI,SAAE,MAAK;EAAA;EAEtC,MAAM,CAACC,QAAQ,CAAC,GAAGV,QAAQ,CAAa,CACtC;IAAEW,IAAI,EAAE,iBAAiB;IAAEC,IAAI,EAAE;EAAS,CAAC,EAC3C;IAAED,IAAI,EAAE,kBAAkB;IAAEC,IAAI,EAAE;EAAQ,CAAC,EAC3C;IAAED,IAAI,EAAE,0BAA0B;IAAEC,IAAI,EAAE;EAAS,CAAC,EACpD;IAAED,IAAI,EAAE,sBAAsB;IAAEC,IAAI,EAAE;EAAU,CAAC,EACjD;IAAED,IAAI,EAAE,UAAU;IAAEC,IAAI,EAAE;EAAQ,CAAC,CACpC,CAAC;EACF,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM;IAAEY;EAAK,CAAC,GAAGT,WAAW,CAACC,YAAY,CAAC;EAC1C,MAAMW,QAAQ,GAAGb,WAAW,EAAE;EAC9B,MAAMc,OAAO,GAAGf,MAAM,CAAiB,IAAI,CAAC;EAE5C,MAAMgB,YAAY,GAAGnB,WAAW,CAAC,CAACoB,KAAa,EAAEP,IAAY,KAAK;IAChEI,QAAQ,CAACV,YAAY,CAACa,KAAK,CAAC,CAAC;IAC7BH,QAAQ,CAACA,QAAQ,CAACT,WAAW,CAACK,IAAI,CAAC,CAAC,CAAC;EACvC,CAAC,EAAE,EAAE,CAAC;EAENZ,SAAS,CAAC,MAAM;IACde,OAAO,CAAC,CAACD,IAAI,CAAC;EAChB,CAAC,EAAE,CAACD,IAAI,CAACO,SAAS,CAAC,CAAC;EAEpB,MAAMC,YAAY,GAAGV,QAAQ,CAACE,IAAI,CAACO,SAAS,CAAC,CAACR,IAAI;EAElD,MAAMU,SAAS,GAAG,MAAM;IACtB,OAAOP,OAAO,CAAC,CAACD,IAAI,CAAC;EACvB,CAAC;EAEDd,SAAS,CAAC,MAAM;IACd,MAAMuB,kBAAkB,GAAIC,KAAiB,IAAK;MAChD,MAAMC,IAAI,GAAGR,OAAO,CAACS,OAAO,IAAIF,KAAK,CAACG,YAAY,EAAE,CAACC,QAAQ,CAACX,OAAO,CAACS,OAAO,CAAC;MAC9E,IAAI,CAACD,IAAI,EAAE;QACTV,OAAO,CAAC,KAAK,CAAC;MAChB;IACF,CAAC;IACDc,QAAQ,CAACC,IAAI,CAACC,gBAAgB,CAAC,OAAO,EAAER,kBAAkB,CAAC;IAC3D,OAAO,MAAMM,QAAQ,CAACC,IAAI,CAACE,mBAAmB,CAAC,OAAO,EAAET,kBAAkB,CAAC;EAC7E,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE,QAAC,QAAQ;IACP,OAAO,EAAEN,OAAQ;IACjB,YAAY,EAAEC,YAAa;IAC3B,YAAY,EAAEG,YAAa;IAC3B,SAAS,EAAER,IAAI,CAACO,SAAU;IAC1B,QAAQ,EAAET,QAAS;IACnB,SAAS,EAAEW,SAAU;IACrB,IAAI,EAAER;EAAK;IAAA;IAAA;IAAA;EAAA,QACX;AAEN,CAAC;EAAA,QAzCkBV,WAAW,EACXD,WAAW;AAAA,GAwC5B;EAAA,QAzCiBC,WAAW,EACXD,WAAW;AAAA,EAwC5B;AAAC,MAnDGM,IAAc;AAqDpB,eAAeA,IAAI;AAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}